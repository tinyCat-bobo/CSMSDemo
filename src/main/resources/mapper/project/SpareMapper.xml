<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.macrosan.mapper.SpareMapper">
	<select id="getAllAddress" resultType="com.macrosan.pojo.SpareAddress">
		select id,address,note,createdTime,modifiedTime
		from spare_address
		order by modifiedTime desc
		limit #{startIndex},#{pageSize}	
	</select>
	<select id="getRowCount" resultType="int">
		select count(*) from spare_address
	</select>
	<insert id="saveSpareAddress">
		insert into spare_address (id,address,note,createdTime,modifiedTime)
		value
		(null,#{spareAddress.address},#{spareAddress.note},now(),now())
	</insert>
	<delete id="deleteSpareAddress">
		delete from spare_address
		<where>
			id=#{id}
		</where>
	</delete>
	<select id="FindSpareAddressById" resultType="com.macrosan.pojo.SpareAddress">
		select id,address,note,createdTime,modifiedTime
		from spare_address
		<where>
			id=#{id}
		</where>
	</select>
	<update id="updateSpareAddress">
		update spare_address set address=#{address.address},note=#{address.note},modifiedTime=now()
		where id=#{address.id}
	</update>
</mapper>	
